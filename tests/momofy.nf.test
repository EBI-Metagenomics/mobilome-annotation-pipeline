nextflow_pipeline {

    name "Test Workflow momofy.nf"
    script "momofy.nf"

    test("Should run without failures") {

        when {
            params {
		assembly = 'input_test/test_assembly.fasta'
		outdir = 'MoMofy_results'
            }
        }

        then {
            assert workflow.success

	    assert snapshot(
    		workflow,
    		path("${params.outdir}/momofy_predictions.gff"),
    		path("${params.outdir}/momofy_predictions.fna"),
    		path("${params.outdir}/nested_integrons.txt"),
		path("${params.outdir}/discarded_mge.txt")
	    ).match()
        }

    }

}
